<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì „ìê²°ì¬í•¨</title>
    <style>
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        th { background-color: #f2f2f2; }
        .WAIT { color: orange; font-weight: bold; }
        .APPROVED { color: green; font-weight: bold; }
        .REJECTED { color: red; text-decoration: line-through; }
    </style>
</head>
<body>
<h2>ğŸ“‘ ì „ìê²°ì¬ í˜„í™©</h2>
<a href="/approval/new">â• ìƒˆ ë°œì£¼ ì‹ ì²­í•˜ê¸°</a> | <a href="/product/list">ğŸ“¦ ìì¬ í˜„í™© ë³´ê¸°</a>
<br><br>

<table>
    <thead>
    <tr>
        <th>No</th>
        <th>ê¸°ì•ˆì</th>
        <th>í’ˆëª©ëª…</th>
        <th>ìš”ì²­ìˆ˜ëŸ‰</th>
        <th>ìƒíƒœ</th>
        <th>ê´€ë¦¬</th> </tr>
    </thead>
    <tbody>
    <tr th:each="app : ${approvals}">
        <td th:text="${app.id}">1</td>
        <td th:text="${app.requesterName}">í™ê¸¸ë™</td>
        <td th:text="${app.product.name}">ì‚¼ì„± ë¨</td>
        <td th:text="${app.quantity} + 'ê°œ'">10ê°œ</td>

        <td th:text="${app.status}" th:class="${app.status}">WAIT</td>

        <td>
            <div th:if="${app.status.name() == 'WAIT'}" style="display:flex; justify-content:center; gap:5px;">

                <form th:action="@{/approval/{id}/approve(id=${app.id})}" method="post">
                    <button type="submit" style="color:blue;">âœ… ìŠ¹ì¸</button>
                </form>

                <form th:action="@{/approval/{id}/reject(id=${app.id})}" method="post">
                    <button type="submit" style="color:red;">âŒ ë°˜ë ¤</button>
                </form>
            </div>

            <span th:unless="${app.status.name() == 'WAIT'}">ì²˜ë¦¬ì™„ë£Œ</span>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>